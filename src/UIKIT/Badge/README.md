# Badge Component

Современный компонент для отображения бейджиков достижений с анимированными эффектами upgrade.

## Особенности

- **Анимированные эффекты**: Искры и летающие мини-бейджики при включенном upgrade
- **SVG частицы**: Летающие частицы используют SVG содержимое самого бейджика
- **Адаптивный дизайн**: Поддержка различных размеров (small, medium, large)
- **Плавная анимация**: Замедленная анимация (6 секунд) для более элегантного эффекта
- **Компактные эффекты**: Оптимизированные расстояния для лучшего визуального восприятия
- **Интеграция**: Полностью интегрирован в Post.js для отображения бейджиков пользователей

## Использование

### Базовое использование

```jsx
import { Badge } from '../../UIKIT/Badge/Badge';

<Badge 
  achievement={userAchievement}
  size="medium"
/>
```

### Параметры

- `achievement` (object): Объект достижения с полями:
  - `image_path`: Путь к изображению бейджика
  - `upgrade`: Boolean - включить ли эффекты upgrade
  - `color_upgrade`: Цвет для эффектов upgrade
- `size` (string): Размер бейджика - "small", "medium", "large"

### Размеры

- **post**: 8px (для постов - в два раза меньше small)
- **small**: 16px (для комментариев и компактных мест)
- **medium**: 24px (стандартный размер)
- **large**: 32px (для профилей и крупных элементов)

## Эффекты Upgrade

При включенном `upgrade` бейджик показывает:

1. **Искры**: 6 вращающихся искр вокруг бейджика
2. **Летающие частицы**: 6 мини-бейджиков, летающих вокруг основного
3. **Цветовые эффекты**: Использование `color_upgrade` для всех анимаций

### Настройки анимации

- **Длительность**: 6 секунд для плавного эффекта
- **Количество частиц**: 6 (оптимизировано для производительности)
- **Расстояние**: 8-14px от центра (компактно)
- **Финальное расстояние**: 1.2x от начальной позиции (уменьшено на 80%)
- **Размер 'post'**: 4-7px от центра, частицы 6px (в два раза меньше)

## Интеграция в Post.js

Компонент автоматически интегрирован в следующие места:

1. **Основной пост**: Бейджик автора поста
2. **Репосты**: Бейджик автора оригинального поста
3. **Комментарии**: Бейджик автора последнего комментария

### Пример интеграции

```jsx
{post.user?.achievement && (
  <Box sx={{ ml: 0.5 }}>
    <Badge 
      achievement={post.user.achievement}
      size="small"
    />
  </Box>
)}
```

## Производительность

- **Ленивая загрузка**: SVG содержимое загружается только при необходимости
- **Оптимизированные анимации**: Использование CSS transforms для GPU-ускорения
- **Условный рендеринг**: Эффекты создаются только при включенном upgrade
- **Автоочистка**: Частицы автоматически удаляются при размонтировании

## Доступность

- Поддержка `prefers-reduced-motion` для пользователей с ограниченными возможностями
- Семантическая разметка с alt-текстами
- Фокус для клавиатурной навигации

## Стилизация

Компонент использует CSS модули с переменными для легкой кастомизации:

```css
.badge {
  --badge-size: 24px;
  --upgrade-color: #FFD700;
}
```

## Рекомендации по дизайну

1. **Размеры**: Используйте "post" для постов, "small" для комментариев, "medium" для стандартных мест, "large" для профилей
2. **Цвета**: Выбирайте контрастные цвета для `color_upgrade`
3. **Размещение**: Оставляйте достаточно места для анимаций (минимум 2x размер бейджика, для постов 1.5x)
4. **Производительность**: Не используйте слишком много бейджиков с upgrade на одной странице 